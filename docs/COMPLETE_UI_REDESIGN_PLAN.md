# å®Œæ•´ UI è¨­è¨ˆèª¿æ•´è¨ˆåŠƒ

## æ¦‚è¿°

æœ¬è¨ˆåŠƒæ—¨åœ¨å°‡ koralcore çš„æ‰€æœ‰ UI é é¢å’Œçµ„ä»¶èª¿æ•´ç‚ºå®Œå…¨åŒ¹é… reef-b-app çš„è¨­è¨ˆè¦ç¯„ã€‚

**æª¢æŸ¥æ—¥æœŸ**: 2024-12-28

---

## ä¸€ã€è¨­è¨ˆè¦ç¯„å°ç…§

### reef-b-app çš„è¨­è¨ˆè¦ç¯„

#### 1. **èƒŒæ™¯**
- **ä¸»èƒŒæ™¯**: æ·ºè‰²æ¼¸è®Šï¼ˆ`background_main.xml`ï¼‰
  - èµ·å§‹è‰²: `#EFEFEF`
  - çµæŸè‰²: é€æ˜
  - è§’åº¦: 225åº¦
  - **é©ç”¨ç¯„åœ**: æ‰€æœ‰ä¸»è¦é é¢ï¼ˆHome, Device, Bluetooth ç­‰ï¼‰

#### 2. **AppBar/Toolbar**
- **Home é é¢**: âŒ æ²’æœ‰ AppBarï¼ˆé ‚éƒ¨åªæœ‰æŒ‰éˆ•ï¼‰
- **å…¶ä»–é é¢**: âœ… æœ‰ Toolbarï¼ˆä½†éœ€è¦ç¢ºèªæ¨£å¼ï¼‰

#### 3. **é¡è‰²ç³»çµ±**
- **æ–‡å­—é¡è‰²**: 
  - ä¸»è¦æ–‡å­—: `text_aaaa` (é»‘è‰² `#000000`)
  - æ¬¡è¦æ–‡å­—: `text_aaa` (åŠé€æ˜é»‘è‰² `#BF000000`)
  - ç¦ç”¨æ–‡å­—: `text_aa` (æ›´é€æ˜ `#80000000`)
- **èƒŒæ™¯é¡è‰²**:
  - ä¸»èƒŒæ™¯: æ·ºè‰²æ¼¸è®Š `#EFEFEF` â†’ é€æ˜
  - å¡ç‰‡èƒŒæ™¯: ç™½è‰² `#FFFFFF`
  - è¡¨é¢é¡è‰²: ç™½è‰²æˆ–æ·ºç°è‰²

#### 4. **é–“è·å’Œå°ºå¯¸**
- ä½¿ç”¨ `dimens.xml` ä¸­å®šç¾©çš„æ¨™æº–å°ºå¯¸
- ä¸»è¦é–“è·: 8dp, 10dp, 12dp, 16dp ç­‰

---

## äºŒã€éœ€è¦èª¿æ•´çš„é é¢æ¸…å–®

### âœ… å·²èª¿æ•´çš„é é¢

1. **HomePage** (`lib/ui/features/home/home_page.dart`)
   - âœ… èƒŒæ™¯å·²æ”¹ç‚º `ReefMainBackground`
   - âœ… ç§»é™¤äº† AppBar
   - âœ… æ·»åŠ äº†é ‚éƒ¨æŒ‰éˆ•å€åŸŸ
   - âœ… æ·»åŠ äº† Sink é¸æ“‡å™¨å€åŸŸ
   - âš ï¸ **å¾…å®Œæˆ**: Sink é¸æ“‡å™¨å®Œæ•´åŠŸèƒ½
   - âš ï¸ **å¾…å®Œæˆ**: å‹•æ…‹è¨­å‚™åˆ—è¡¨

---

### ğŸ“‹ éœ€è¦èª¿æ•´çš„é é¢

#### 1. **Bluetooth é é¢** (`lib/ui/features/bluetooth/bluetooth_page.dart`)

**ç•¶å‰ç‹€æ…‹**: éœ€è¦æª¢æŸ¥
**éœ€è¦èª¿æ•´**:
- [ ] èƒŒæ™¯æ˜¯å¦ä½¿ç”¨ `ReefMainBackground`
- [ ] AppBar/Toolbar æ¨£å¼æ˜¯å¦åŒ¹é…
- [ ] æ–‡å­—é¡è‰²æ˜¯å¦é©é…æ·ºè‰²èƒŒæ™¯
- [ ] å¡ç‰‡å’Œåˆ—è¡¨æ¨£å¼

**åƒè€ƒ**: `reef-b-app/res/layout/fragment_bluetooth.xml`

---

#### 2. **Device é é¢** (`lib/ui/features/device/device_page.dart`)

**ç•¶å‰ç‹€æ…‹**: éœ€è¦æª¢æŸ¥
**éœ€è¦èª¿æ•´**:
- [ ] èƒŒæ™¯æ˜¯å¦ä½¿ç”¨ `ReefMainBackground`
- [ ] AppBar/Toolbar æ¨£å¼
- [ ] è¨­å‚™åˆ—è¡¨æ¨£å¼
- [ ] ç©ºç‹€æ…‹é¡¯ç¤º

**åƒè€ƒ**: `reef-b-app/res/layout/fragment_device.xml`

---

#### 3. **LED ç›¸é—œé é¢**

##### 3.1 **LED ä¸»é ** (`lib/ui/features/led/pages/led_main_page.dart`)
- [ ] èƒŒæ™¯èª¿æ•´
- [ ] Toolbar æ¨£å¼
- [ ] å¡ç‰‡å’Œåˆ—è¡¨æ¨£å¼

##### 3.2 **LED è¨­ç½®é ** (`lib/ui/features/led/pages/led_setting_page.dart`)
- [ ] èƒŒæ™¯èª¿æ•´
- [ ] è¡¨å–®å…ƒç´ æ¨£å¼

##### 3.3 **LED å ´æ™¯ç›¸é—œé é¢**
- `led_scene_list_page.dart`
- `led_scene_add_page.dart`
- `led_scene_edit_page.dart`
- `led_scene_delete_page.dart`
- [ ] èƒŒæ™¯èª¿æ•´
- [ ] åˆ—è¡¨å’Œè¡¨å–®æ¨£å¼

##### 3.4 **LED è¨˜éŒ„ç›¸é—œé é¢**
- `led_record_setting_page.dart`
- `led_record_time_setting_page.dart`
- [ ] èƒŒæ™¯èª¿æ•´
- [ ] è¡¨å–®æ¨£å¼

##### 3.5 **LED Master è¨­ç½®** (`led_master_setting_page.dart`)
- [ ] èƒŒæ™¯èª¿æ•´
- [ ] è¨­ç½®é …æ¨£å¼

**åƒè€ƒ**: `reef-b-app/res/layout/activity_led_*.xml`

---

#### 4. **Dosing ç›¸é—œé é¢**

##### 4.1 **Dosing ä¸»é ** (`lib/ui/features/dosing/pages/dosing_main_page.dart`)
- [ ] èƒŒæ™¯èª¿æ•´
- [ ] Toolbar æ¨£å¼
- [ ] å¡ç‰‡å’Œåˆ—è¡¨æ¨£å¼

##### 4.2 **Pump Head ç›¸é—œé é¢**
- `pump_head_detail_page.dart`
- `pump_head_settings_page.dart`
- `pump_head_calibration_page.dart`
- `pump_head_adjust_list_page.dart`
- [ ] èƒŒæ™¯èª¿æ•´
- [ ] è¡¨å–®å’Œåˆ—è¡¨æ¨£å¼

##### 4.3 **Dosing Schedule ç›¸é—œé é¢**
- `pump_head_record_setting_page.dart`
- `pump_head_record_time_setting_page.dart`
- [ ] èƒŒæ™¯èª¿æ•´
- [ ] è¡¨å–®æ¨£å¼

##### 4.4 **Drop ç›¸é—œé é¢**
- `drop_setting_page.dart`
- `drop_type_page.dart`
- [ ] èƒŒæ™¯èª¿æ•´
- [ ] åˆ—è¡¨å’Œè¡¨å–®æ¨£å¼

**åƒè€ƒ**: `reef-b-app/res/layout/activity_drop_*.xml`

---

#### 5. **Device ç®¡ç†é é¢**

##### 5.1 **Device Settings** (`lib/ui/features/device/pages/device_settings_page.dart`)
- [ ] èƒŒæ™¯èª¿æ•´
- [ ] è¨­ç½®é …æ¨£å¼

##### 5.2 **Add Device** (`lib/ui/features/device/pages/add_device_page.dart`)
- [ ] èƒŒæ™¯èª¿æ•´
- [ ] è¡¨å–®æ¨£å¼

**åƒè€ƒ**: `reef-b-app/res/layout/activity_add_device.xml`

---

#### 6. **Sink ç›¸é—œé é¢**

##### 6.1 **Sink Manager** (`lib/ui/features/sink/pages/sink_manager_page.dart`)
- [ ] èƒŒæ™¯èª¿æ•´
- [ ] åˆ—è¡¨æ¨£å¼

##### 6.2 **Sink Position** (`lib/ui/features/sink/pages/sink_position_page.dart`)
- [ ] èƒŒæ™¯èª¿æ•´
- [ ] è¡¨å–®æ¨£å¼

**åƒè€ƒ**: `reef-b-app/res/layout/activity_sink_*.xml`

---

#### 7. **Warning é é¢** (`lib/ui/features/warning/pages/warning_page.dart`)
- [ ] èƒŒæ™¯èª¿æ•´
- [ ] åˆ—è¡¨æ¨£å¼

**åƒè€ƒ**: `reef-b-app/res/layout/activity_warning.xml`

---

#### 8. **Splash é é¢** (`lib/ui/features/splash/pages/splash_page.dart`)
- [ ] èƒŒæ™¯æ¨£å¼ï¼ˆé€šå¸¸ä¸éœ€è¦æ¼¸è®Šï¼‰
- [ ] Logo å’Œæ–‡å­—æ¨£å¼

**åƒè€ƒ**: `reef-b-app/res/layout/activity_splash.xml`

---

## ä¸‰ã€é€šç”¨çµ„ä»¶èª¿æ•´

### 1. **AppBar/Toolbar**
éœ€è¦æª¢æŸ¥æ‰€æœ‰é é¢çš„ AppBarï¼š
- [ ] èƒŒæ™¯é¡è‰²ï¼ˆæ‡‰è©²æ˜¯ä»€éº¼é¡è‰²ï¼Ÿï¼‰
- [ ] æ¨™é¡Œæ¨£å¼
- [ ] æŒ‰éˆ•æ¨£å¼
- [ ] é«˜åº¦å’Œå…§é‚Šè·

### 2. **å¡ç‰‡ (Card)**
- [ ] èƒŒæ™¯é¡è‰²ï¼ˆç™½è‰²ï¼‰
- [ ] åœ“è§’åŠå¾‘
- [ ] é™°å½±/é«˜åº¦
- [ ] å…§é‚Šè·

### 3. **æŒ‰éˆ•**
- [ ] Primary æŒ‰éˆ•æ¨£å¼
- [ ] Secondary æŒ‰éˆ•æ¨£å¼
- [ ] Icon æŒ‰éˆ•æ¨£å¼
- [ ] æ–‡å­—æŒ‰éˆ•æ¨£å¼

### 4. **åˆ—è¡¨é … (List Tile)**
- [ ] èƒŒæ™¯é¡è‰²
- [ ] é«˜åº¦
- [ ] å…§é‚Šè·
- [ ] åˆ†éš”ç·š

### 5. **è¼¸å…¥æ¡† (TextField)**
- [ ] èƒŒæ™¯é¡è‰²
- [ ] é‚Šæ¡†æ¨£å¼
- [ ] æ¨™ç±¤å’Œæç¤ºæ–‡å­—æ¨£å¼

### 6. **å°è©±æ¡† (Dialog)**
- [ ] èƒŒæ™¯é¡è‰²ï¼ˆç™½è‰²ï¼Œåœ“è§’ï¼‰
- [ ] æ¨™é¡Œå’Œå…§å®¹æ¨£å¼
- [ ] æŒ‰éˆ•æ¨£å¼

---

## å››ã€èª¿æ•´æ­¥é©Ÿ

### Phase 1: è¨­è¨ˆè¦ç¯„ç¢ºèª âœ…
- [x] ç¢ºèª reef-b-app çš„è¨­è¨ˆè¦ç¯„
- [x] å‰µå»ºè¨­è¨ˆå°ç…§æ–‡æª”
- [x] ç¢ºèªé¡è‰²ã€å°ºå¯¸ã€é–“è·å€¼

### Phase 2: åŸºç¤çµ„ä»¶èª¿æ•´
- [ ] ç¢ºèª `ReefMainBackground` åœ¨æ‰€æœ‰éœ€è¦çš„åœ°æ–¹ä½¿ç”¨
- [ ] æª¢æŸ¥ä¸¦èª¿æ•´é€šç”¨çµ„ä»¶ï¼ˆCard, Button, TextField ç­‰ï¼‰
- [ ] ç¢ºä¿æ–‡å­—é¡è‰²é©é…æ·ºè‰²èƒŒæ™¯

### Phase 3: ä¸»è¦é é¢èª¿æ•´ï¼ˆå„ªå…ˆç´šé«˜ï¼‰

#### 3.1 æ ¸å¿ƒåŠŸèƒ½é é¢
1. **Bluetooth é é¢** - è¨­å‚™æƒæå’Œé€£æ¥çš„æ ¸å¿ƒåŠŸèƒ½
2. **Device é é¢** - è¨­å‚™ç®¡ç†
3. **LED ä¸»é ** - LED æ§åˆ¶ä¸»å…¥å£
4. **Dosing ä¸»é ** - Dosing æ§åˆ¶ä¸»å…¥å£

#### 3.2 è¨­ç½®å’Œé…ç½®é é¢
5. **Device Settings** - è¨­å‚™è¨­ç½®
6. **LED Settings** - LED è¨­ç½®
7. **Sink Manager** - Sink ç®¡ç†

### Phase 4: æ¬¡è¦é é¢èª¿æ•´ï¼ˆå„ªå…ˆç´šä¸­ï¼‰

#### 4.1 LED ç›¸é—œ
- LED å ´æ™¯ç®¡ç†ï¼ˆåˆ—è¡¨ã€æ·»åŠ ã€ç·¨è¼¯ã€åˆªé™¤ï¼‰
- LED è¨˜éŒ„è¨­ç½®
- LED Master è¨­ç½®

#### 4.2 Dosing ç›¸é—œ
- Pump Head è¨­ç½®å’Œæ ¡æ­£
- Dosing Schedule è¨­ç½®
- Drop è¨­ç½®

#### 4.3 å…¶ä»–
- Warning é é¢
- Add Device é é¢
- Sink Position é é¢

### Phase 5: ç´°ç¯€èª¿æ•´å’Œå„ªåŒ–ï¼ˆå„ªå…ˆç´šä½ï¼‰
- [ ] å‹•ç•«å’Œéæ¸¡æ•ˆæœ
- [ ] äº¤äº’ç´°ç¯€
- [ ] ç©ºç‹€æ…‹å’ŒéŒ¯èª¤ç‹€æ…‹
- [ ] åŠ è¼‰ç‹€æ…‹

---

## äº”ã€æª¢æŸ¥æ¸…å–®æ¨¡æ¿

å°æ¯å€‹é é¢é€²è¡Œèª¿æ•´æ™‚ï¼Œä½¿ç”¨ä»¥ä¸‹æª¢æŸ¥æ¸…å–®ï¼š

### èƒŒæ™¯
- [ ] ä½¿ç”¨ `ReefMainBackground`ï¼ˆå¦‚æœéœ€è¦æ¼¸è®ŠèƒŒæ™¯ï¼‰
- [ ] æˆ–ä½¿ç”¨é©ç•¶çš„ç´”è‰²èƒŒæ™¯
- [ ] ç¢ºèªèƒŒæ™¯é¡è‰²åŒ¹é… reef-b-app

### AppBar/Toolbar
- [ ] ç¢ºèªæ˜¯å¦éœ€è¦ AppBar
- [ ] èƒŒæ™¯é¡è‰²æ­£ç¢º
- [ ] æ¨™é¡Œæ¨£å¼æ­£ç¢º
- [ ] æŒ‰éˆ•æ¨£å¼å’Œä½ç½®æ­£ç¢º

### æ–‡å­—é¡è‰²
- [ ] ä¸»è¦æ–‡å­—ä½¿ç”¨ `ReefColors.textPrimary`
- [ ] æ¬¡è¦æ–‡å­—ä½¿ç”¨ `ReefColors.textSecondary`
- [ ] ç¦ç”¨æ–‡å­—ä½¿ç”¨ `ReefColors.textTertiary`
- [ ] ç¢ºèªæ–‡å­—åœ¨èƒŒæ™¯ä¸Šæ¸…æ™°å¯è¦‹

### å¡ç‰‡å’Œå®¹å™¨
- [ ] èƒŒæ™¯é¡è‰²ç‚ºç™½è‰²ï¼ˆ`ReefColors.surface`ï¼‰
- [ ] åœ“è§’åŠå¾‘ä½¿ç”¨ `ReefRadius` å¸¸é‡
- [ ] å…§é‚Šè·ä½¿ç”¨ `ReefSpacing` å¸¸é‡
- [ ] é™°å½±/é«˜åº¦é©ç•¶

### é–“è·å’Œå°ºå¯¸
- [ ] ä½¿ç”¨ `ReefSpacing` å¸¸é‡è€Œéç¡¬ç·¨ç¢¼å€¼
- [ ] ä½¿ç”¨ `ReefRadius` å¸¸é‡
- [ ] ç¢ºèªå°ºå¯¸åŒ¹é… reef-b-app

### çµ„ä»¶æ¨£å¼
- [ ] æŒ‰éˆ•æ¨£å¼æ­£ç¢º
- [ ] è¼¸å…¥æ¡†æ¨£å¼æ­£ç¢º
- [ ] åˆ—è¡¨é …æ¨£å¼æ­£ç¢º
- [ ] åœ–æ¨™å¤§å°å’Œé¡è‰²æ­£ç¢º

---

## å…­ã€å¯¦æ–½å„ªå…ˆç´š

### ğŸ”´ é«˜å„ªå…ˆç´šï¼ˆç«‹å³è™•ç†ï¼‰
1. **Bluetooth é é¢** - ç”¨æˆ¶éœ€è¦æƒæå’Œé€£æ¥è¨­å‚™
2. **Device é é¢** - è¨­å‚™ç®¡ç†çš„æ ¸å¿ƒé é¢
3. **LED ä¸»é ** - ä¸»è¦åŠŸèƒ½å…¥å£
4. **Dosing ä¸»é ** - ä¸»è¦åŠŸèƒ½å…¥å£

### ğŸŸ¡ ä¸­å„ªå…ˆç´šï¼ˆè¿‘æœŸè™•ç†ï¼‰
5. **Device Settings** - è¨­å‚™è¨­ç½®
6. **LED Settings** - LED è¨­ç½®
7. **LED å ´æ™¯ç®¡ç†** - å¸¸ç”¨åŠŸèƒ½
8. **Pump Head è¨­ç½®** - å¸¸ç”¨åŠŸèƒ½
9. **Sink Manager** - Sink ç®¡ç†

### ğŸŸ¢ ä½å„ªå…ˆç´šï¼ˆå¾ŒçºŒè™•ç†ï¼‰
10. å…¶ä»–è¨­ç½®å’Œé…ç½®é é¢
11. è¨˜éŒ„å’Œæ­·å²é é¢
12. ç´°ç¯€å„ªåŒ–

---

## ä¸ƒã€æŠ€è¡“å¯¦æ–½è¦é»

### 1. èƒŒæ™¯è™•ç†
```dart
// ä½¿ç”¨ ReefMainBackground
Scaffold(
  body: ReefMainBackground(
    child: SafeArea(
      child: YourContent(),
    ),
  ),
)
```

### 2. æ–‡å­—é¡è‰²
```dart
// ä¸»è¦æ–‡å­—
TextStyle(color: ReefColors.textPrimary)

// æ¬¡è¦æ–‡å­—
TextStyle(color: ReefColors.textSecondary)

// ç¦ç”¨æ–‡å­—
TextStyle(color: ReefColors.textTertiary)
```

### 3. å¡ç‰‡æ¨£å¼
```dart
Card(
  color: ReefColors.surface, // ç™½è‰²
  shape: RoundedRectangleBorder(
    borderRadius: BorderRadius.circular(ReefRadius.lg),
  ),
  elevation: 0, // æˆ–é©ç•¶çš„é™°å½±
  child: YourContent(),
)
```

### 4. é–“è·å’Œå°ºå¯¸
```dart
// ä½¿ç”¨å¸¸é‡è€Œéç¡¬ç·¨ç¢¼
padding: EdgeInsets.all(ReefSpacing.md)
borderRadius: BorderRadius.circular(ReefRadius.lg)
```

---

## å…«ã€é€²åº¦è¿½è¹¤

### ç•¶å‰é€²åº¦
- âœ… Home é é¢: 90% å®Œæˆï¼ˆåŸºæœ¬çµæ§‹å®Œæˆï¼Œå¾…å®Œå–„åŠŸèƒ½ï¼‰
- â³ å…¶ä»–é é¢: å¾…é–‹å§‹

### é è¨ˆå·¥ä½œé‡
- **é«˜å„ªå…ˆç´šé é¢**: 4å€‹é é¢ Ã— 2-3å°æ™‚ = 8-12å°æ™‚
- **ä¸­å„ªå…ˆç´šé é¢**: 5å€‹é é¢ Ã— 1-2å°æ™‚ = 5-10å°æ™‚
- **ä½å„ªå…ˆç´šé é¢**: 10+å€‹é é¢ Ã— 0.5-1å°æ™‚ = 5-10å°æ™‚
- **ç¸½è¨ˆ**: ç´„ 18-32å°æ™‚

---

## ä¹ã€æ³¨æ„äº‹é …

1. **ä¸€è‡´æ€§**: ç¢ºä¿æ‰€æœ‰é é¢ä½¿ç”¨ç›¸åŒçš„è¨­è¨ˆè¦ç¯„
2. **å¯ç¶­è­·æ€§**: ä½¿ç”¨ä¸»é¡Œå¸¸é‡è€Œéç¡¬ç·¨ç¢¼å€¼
3. **æ¸¬è©¦**: æ¯å€‹é é¢èª¿æ•´å¾Œéƒ½è¦é€²è¡Œè¦–è¦ºæ¸¬è©¦
4. **å°ç…§**: å®šæœŸå°ç…§ reef-b-app çš„å¯¦éš› UI ç¢ºèª
5. **æ–‡æª”**: æ›´æ–°ç›¸é—œæ–‡æª”è¨˜éŒ„è¨­è¨ˆæ±ºç­–

---

## åã€ä¸‹ä¸€æ­¥è¡Œå‹•

1. âœ… **å‰µå»ºè¨ˆåŠƒ**ï¼ˆç•¶å‰æ­¥é©Ÿï¼‰
2. â­ï¸ **é–‹å§‹ Phase 2**: æª¢æŸ¥å’Œèª¿æ•´é€šç”¨çµ„ä»¶
3. â­ï¸ **é–‹å§‹ Phase 3**: èª¿æ•´é«˜å„ªå…ˆç´šé é¢
4. â­ï¸ **é€æ­¥å®Œæˆ**: æŒ‰å„ªå…ˆç´šé€æ­¥èª¿æ•´æ‰€æœ‰é é¢

---

## é™„éŒ„ï¼šåƒè€ƒæ–‡ä»¶

- `docs/HOME_PAGE_DESIGN_FIDELITY_CHECK.md` - é¦–é è¨­è¨ˆå°ç…§æª¢æŸ¥
- `docs/HOME_PAGE_REDESIGN_PLAN.md` - é¦–é æ”¹é€ è¨ˆåŠƒ
- `docs/RES_RESOURCES_USAGE_VERIFICATION.md` - è³‡æºä½¿ç”¨é©—è­‰
- `docs/UI_PARITY_CHECK_AND_FIX_PLAN.md` - UI å°ç…§æª¢æŸ¥è¨ˆåŠƒ
- `docs/reef_b_app_res/layout/` - reef-b-app çš„å¸ƒå±€åƒè€ƒæ–‡ä»¶

