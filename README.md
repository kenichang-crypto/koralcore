# koralcore

**koralcore** æ˜¯ä¸€å€‹ä»¥ Flutter ç‚ºåŸºç¤çš„ **IoT Device Platform Core**ï¼Œ  
ç”¨æ–¼ç®¡ç†èˆ‡æ§åˆ¶å¤šç¨®æ°´æ—è¨­å‚™ï¼ˆå¦‚ LEDã€Doserï¼‰ï¼Œ  
ç›®æ¨™æ˜¯æˆç‚º **è·¨å¹³å°ã€å¯æ“´å……ã€é•·æœŸå¯ç¶­è­·** çš„æ ¸å¿ƒæ¶æ§‹ã€‚

> æœ¬å°ˆæ¡ˆä¸æ˜¯å–®ç´”çš„ UI Appï¼Œè€Œæ˜¯ã€Œè¨­å‚™å¹³å°æ ¸å¿ƒï¼ˆPlatform Coreï¼‰ã€ã€‚

---

## ğŸ¯ å°ˆæ¡ˆç›®æ¨™ï¼ˆGoalsï¼‰

- å»ºç«‹ä¸€å€‹ **è·¨å¹³å°ï¼ˆFlutterï¼‰** çš„è¨­å‚™æ ¸å¿ƒæ¶æ§‹
- å°‡ **è¨­å‚™é‚è¼¯ï¼ˆDomainï¼‰** èˆ‡ **å¹³å°å¯¦ä½œï¼ˆAndroid / iOSï¼‰** æ˜ç¢ºåˆ†é›¢
- æ”¯æ´å¤šè¨­å‚™é¡å‹ï¼ˆLEDã€Doserã€æœªä¾†è¨­å‚™ï¼‰
- èƒ½å¾ç¾æœ‰ Android åŸç”Ÿ App **é€æ­¥é·ç§»**ï¼Œè€Œéä¸€æ¬¡é‡å¯«
- æä¾›ç©©å®šçµæ§‹ï¼Œæ–¹ä¾¿ AIï¼ˆCopilot / Codexï¼‰è¼”åŠ©é–‹ç™¼èˆ‡é‡æ§‹

---

## ğŸ§± æ¶æ§‹ç¸½è¦½ï¼ˆHigh-level Architectureï¼‰


---

## ğŸ“ ç›®éŒ„çµæ§‹èªªæ˜

### `lib/domain/`
**è¨­å‚™èˆ‡æ¥­å‹™æ ¸å¿ƒï¼ˆç´” Dartï¼Œç„¡ Flutter / Platform ä¾è³´ï¼‰**

- ä¸ import Flutter
- ä¸åŒ…å« BLE / UI / Storage
- å¯ç›´æ¥åšå–®å…ƒæ¸¬è©¦


---

### `lib/platform/contracts/`
**Platform Portï¼ˆæŠ½è±¡æ¥å£å±¤ï¼‰**

- å®šç¾©ã€ŒDomain éœ€è¦ä»€éº¼èƒ½åŠ›ã€
- ä¸é—œå¿ƒæ˜¯ Android / iOS / BLE / Mock


> å¯¦ä½œæœƒæ”¾åœ¨ Android / iOS Plugin ä¸­ï¼Œè€Œä¸æ˜¯é€™å€‹ repoã€‚

---

### `test/`
**Domain å–®å…ƒæ¸¬è©¦**


---

## ğŸš« æœ¬å°ˆæ¡ˆåˆ»æ„ä¸åŒ…å«çš„å…§å®¹

- âŒ BLE å¯¦ä½œ
- âŒ UI / Widget / ç•«é¢
- âŒ Android / iOS å¹³å°ç´°ç¯€
- âŒ Database / Storage
- âŒ ç‹€æ…‹ç®¡ç†æ¡†æ¶ï¼ˆRiverpod / Bloc ç­‰ï¼‰

é€™äº›æœƒåœ¨ **å¹³å°å±¤æˆ– UI å°ˆæ¡ˆ** ä¸­è™•ç†ã€‚

---

## ğŸ” èˆ‡èˆŠ Android App çš„é—œä¿‚

- èˆŠå°ˆæ¡ˆï¼š`reef-b-app`ï¼ˆAndroid åŸç”Ÿï¼‰
- æœ¬å°ˆæ¡ˆï¼š**æ–°å¹³å°æ ¸å¿ƒï¼ˆFlutter / Dartï¼‰**

é·ç§»ç­–ç•¥ï¼š
- å…ˆæŠŠ **è¨ˆç®—ã€è¦å‰‡ã€é©—è­‰ã€Firmware åˆ†æ”¯** æŠ½æˆç´” Domain
- å†é€æ­¥ç”± Android å‘¼å« â†’ Flutter å‘¼å«
- æœ€å¾Œæ‰è™•ç† UI èˆ‡å¹³å°å¯¦ä½œ

---

## ğŸ§  è¨­è¨ˆåŸå‰‡ï¼ˆDesign Principlesï¼‰

- Domain Firstï¼ˆå…ˆæœ‰è¨­å‚™é‚è¼¯ï¼Œå†è«‡å¹³å°ï¼‰
- Interface Drivenï¼ˆå…ˆå®š Portï¼Œå†åšå¯¦ä½œï¼‰
- å¯æ¸¬è©¦ï¼ˆTestable by defaultï¼‰
- å¯æ“´å……ï¼ˆæ–°å¢è¨­å‚™ â‰  ä¿®æ”¹èˆŠè¨­å‚™ï¼‰
- AI-friendlyï¼ˆçµæ§‹æ¸…æ¥šï¼Œæ–¹ä¾¿ Copilot / Codex ç†è§£ï¼‰

---

## ğŸ“Œ å°ˆæ¡ˆç‹€æ…‹

- âœ… Flutter å°ˆæ¡ˆéª¨æ¶å®Œæˆ
- âœ… Domainï¼ˆLED / Doserï¼‰çµæ§‹å·²å»ºç«‹
- â³ Android / iOS Plugin å°šæœªå¯¦ä½œ
- â³ UI / Presentation å°šæœªåŠ å…¥

---

## ğŸ”œ ä¸‹ä¸€æ­¥ï¼ˆPlannedï¼‰

- å»ºç«‹ Android Pluginï¼ˆå°æ‡‰æ—¢æœ‰ BLEï¼‰
- å°‡ Android çš„ dosing / LED é‚è¼¯å°ç…§æ¬ç§»
- å»ºç«‹ Device Platform Coreï¼ˆRegistry / Capabilityï¼‰
- å†å¼•å…¥ Flutter UI å±¤
