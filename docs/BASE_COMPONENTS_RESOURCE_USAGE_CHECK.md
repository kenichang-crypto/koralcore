# åŸºç¤çµ„ä»¶è³‡æºä½¿ç”¨æª¢æŸ¥å ±å‘Š

## æª¢æŸ¥æ—¥æœŸ
2024-12-28

---

## ä¸€ã€è³‡æºåˆ†é…å°ç…§ç¸½çµ

### âœ… å·²æ­£ç¢ºåˆ†é…çš„è³‡æº

#### 1. é¡è‰²è³‡æºï¼ˆcolors.xml â†’ reef_colors.dartï¼‰

**ç‹€æ…‹**: âœ… **å®Œå…¨æ­£ç¢º**

æ‰€æœ‰é—œéµé¡è‰²å·²æ­£ç¢ºå°ç…§ï¼š
- `bg_primary` (#6F916F) â†’ `ReefColors.primary` âœ…
- `bg_secondary` (#517651) â†’ `ReefColors.primaryStrong` âœ…
- `bg_aaaa` (#FFFFFF) â†’ `ReefColors.surface` âœ…
- `bg_aaa` (#F7F7F7) â†’ `ReefColors.surfaceMuted` âœ…
- `text_aaaa` (#000000) â†’ `ReefColors.textPrimary` âœ…
- `text_aaa` (#BF000000) â†’ `ReefColors.textSecondary` âœ…
- `main_activity_background_start_color` (#EFEFEF) â†’ `ReefColors.backgroundGradientStart` âœ…
- `main_activity_background_end_color` (#00FFFFFF) â†’ `ReefColors.backgroundGradientEnd` âœ…

**çµè«–**: âœ… **é¡è‰²è³‡æºåˆ†é…å®Œå…¨æ­£ç¢º**

---

#### 2. é–“è·è³‡æºï¼ˆdimens.xml â†’ reef_spacing.dartï¼‰

**ç‹€æ…‹**: âš ï¸ **éƒ¨åˆ†å°ç…§ï¼Œéœ€è¦ç¢ºèªå®Œæ•´å°æ‡‰**

**å·²å°ç…§çš„é–“è·**:
| reef-b-app | koralcore | ç‹€æ…‹ |
|------------|-----------|------|
| `dp_4` | `ReefSpacing.xxxs = 4.0` | âœ… |
| `dp_6` | `ReefSpacing.xxs = 6.0` | âœ… |
| `dp_8` | `ReefSpacing.xs = 8.0` | âœ… |
| `dp_12` | `ReefSpacing.sm = 12.0` | âœ… |
| `dp_16` | `ReefSpacing.md = 16.0` | âœ… |
| `dp_20` | `ReefSpacing.lg = 20.0` | âš ï¸ æ³¨æ„ï¼šreef-b-app ä½¿ç”¨ dp_20ï¼Œä½† koralcore ä¸­ lg=20 å¯èƒ½å°æ‡‰ä¸åŒç”¨é€” |
| `dp_24` | `ReefSpacing.xl = 24.0` | âœ… |
| `dp_32` | `ReefSpacing.xxl = 32.0` | âœ… |
| `dp_56` | `ReefSpacing.gutter = 56.0` | âœ… |

**reef-b-app ä¸­ä½†å¯èƒ½æœªå°ç…§çš„å°ºå¯¸**:
- `dp_10` â†’ âš ï¸ éœ€è¦ç¢ºèªï¼ˆå¯èƒ½æœ‰ `ReefSpacing.sm` çš„è®Šé«”ï¼Ÿï¼‰
- `dp_26`, `dp_30`, `dp_44`, `dp_48` ç­‰ â†’ âš ï¸ éœ€è¦ç¢ºèªæ˜¯å¦æœ‰å°æ‡‰å¸¸é‡

**çµè«–**: âš ï¸ **åŸºæœ¬é–“è·å·²å°ç…§ï¼Œä½†éœ€è¦ç¢ºèªæ‰€æœ‰å°ºå¯¸å€¼æ˜¯å¦éƒ½æœ‰å°æ‡‰å¸¸é‡**

---

#### 3. åœ“è§’è³‡æºï¼ˆdimens.xml/styles.xml â†’ reef_radius.dartï¼‰

**ç‹€æ…‹**: âœ… **åŸºæœ¬å°ç…§å®Œæˆ**

**å·²å°ç…§çš„åœ“è§’**:
- `ReefRadius.xs = 4.0` (TextInput + cards)
- `ReefRadius.sm = 6.0` (Switch track overlay)
- `ReefRadius.md = 10.0` (Dialogs / sheets)
- `ReefRadius.lg = 20.0` (Rounded buttons)
- `ReefRadius.pill = 999.0` (Full pill / round surfaces)

**çµè«–**: âœ… **åœ“è§’è³‡æºåˆ†é…æ­£ç¢º**

---

#### 4. æ–‡å­—æ¨£å¼è³‡æºï¼ˆstyles.xml â†’ reef_text.dartï¼‰

**ç‹€æ…‹**: âœ… **å·²è½‰æ›**

å·²è½‰æ›çš„æ–‡å­—æ¨£å¼ï¼š
- `headline`, `title1`, `title2`, `title3`
- `subheader`, `subheaderAccent`, `subheader1`
- `body`, `bodyAccent`, `body1`, `body2`
- `caption1`, `caption1Accent`
- `caption2`, `caption2Accent`

**çµè«–**: âœ… **æ–‡å­—æ¨£å¼è³‡æºå·²æ­£ç¢ºè½‰æ›**

---

#### 5. èƒŒæ™¯è³‡æºï¼ˆdrawable/background_*.xml â†’ reef_backgrounds.dartï¼‰

**ç‹€æ…‹**: âœ… **å·²è½‰æ›**

å·²è½‰æ›çš„èƒŒæ™¯ Widgetï¼š
- `background_main.xml` â†’ `ReefMainBackground` âœ…
- `dialog_background.xml` â†’ `ReefDialogBackground` âœ…
- `background_white_radius.xml` â†’ `ReefWhiteRoundedBackground` âœ…
- `background_spinner.xml` â†’ `ReefSpinnerBackground` âœ…
- `background_sink_spinner.xml` â†’ `ReefSinkSpinnerBackground` âœ…

**çµè«–**: âœ… **èƒŒæ™¯è³‡æºå·²æ­£ç¢ºè½‰æ›**

---

#### 6. åœ–æ¨™è³‡æºï¼ˆdrawable/ic_*.xml â†’ reef_material_icons.dartï¼‰

**ç‹€æ…‹**: âœ… **å·²è½‰æ›ç‚º Material Icons æ˜ å°„**

å¸¸ç”¨åœ–æ¨™å·²å®šç¾©ï¼ˆç´„ 50+ å€‹ï¼‰

**çµè«–**: âœ… **åœ–æ¨™è³‡æºå·²æ­£ç¢ºè½‰æ›**

---

## äºŒã€åŸºç¤çµ„ä»¶ä½¿ç”¨æƒ…æ³æª¢æŸ¥

### æª¢æŸ¥ç¯„åœ
æª¢æŸ¥æ‰€æœ‰ UI é é¢æ˜¯å¦æ­£ç¢ºä½¿ç”¨è³‡æºå¸¸é‡ï¼Œè€Œéç¡¬ç·¨ç¢¼å€¼ã€‚

---

### 1. é¡è‰²ä½¿ç”¨æª¢æŸ¥

#### æª¢æŸ¥é …ç›®
- [ ] æ˜¯å¦ä½¿ç”¨ `ReefColors` å¸¸é‡è€Œéç¡¬ç·¨ç¢¼ `Color(0x...)` æˆ– `#` å€¼ï¼Ÿ
- [ ] æ˜¯å¦æ­£ç¢ºä½¿ç”¨èªç¾©åŒ–é¡è‰²ï¼ˆ`textPrimary`, `textSecondary` ç­‰ï¼‰ï¼Ÿ

#### ç•¶å‰ä½¿ç”¨æƒ…æ³

**âœ… æ­£ç¢ºä½¿ç”¨çš„é é¢**:
- HomePage - ä½¿ç”¨ `ReefColors.textPrimary`, `ReefColors.surface` ç­‰ âœ…

**âš ï¸ éœ€è¦æª¢æŸ¥çš„é é¢**:
- éƒ¨åˆ†é é¢ä½¿ç”¨ `ReefColors.primaryStrong` ä½œç‚ºèƒŒæ™¯ï¼ˆæ‡‰è©²ä½¿ç”¨ `ReefMainBackground`ï¼‰
- éƒ¨åˆ†é é¢ä½¿ç”¨ `ReefColors.surfaceMuted` ä½œç‚ºèƒŒæ™¯ï¼ˆéœ€è¦ç¢ºèªæ˜¯å¦æ­£ç¢ºï¼‰

**âŒ å•é¡Œ**:
- åªæœ‰ HomePage ä½¿ç”¨ `ReefMainBackground`
- å…¶ä»–é é¢ä»ä½¿ç”¨ `backgroundColor: ReefColors.primaryStrong` æˆ– `backgroundColor: ReefColors.surfaceMuted`

---

### 2. é–“è·ä½¿ç”¨æª¢æŸ¥

#### æª¢æŸ¥é …ç›®
- [ ] æ˜¯å¦ä½¿ç”¨ `ReefSpacing` å¸¸é‡è€Œéç¡¬ç·¨ç¢¼æ•¸å€¼ï¼ˆå¦‚ `16.0`, `24.0`ï¼‰ï¼Ÿ
- [ ] é–“è·å€¼æ˜¯å¦åŒ¹é… reef-b-app çš„æ¨™æº–ï¼Ÿ

#### ç•¶å‰ä½¿ç”¨æƒ…æ³

**âœ… å¤§éƒ¨åˆ†é é¢ä½¿ç”¨ `ReefSpacing` å¸¸é‡**

**âš ï¸ éœ€è¦ç¢ºèª**:
- æ˜¯å¦æ‰€æœ‰ç¡¬ç·¨ç¢¼çš„æ•¸å€¼éƒ½å·²æ›¿æ›ç‚ºå¸¸é‡ï¼Ÿ
- é–“è·å€¼æ˜¯å¦å®Œå…¨åŒ¹é… reef-b-appï¼Ÿ

---

### 3. åœ“è§’ä½¿ç”¨æª¢æŸ¥

#### æª¢æŸ¥é …ç›®
- [ ] æ˜¯å¦ä½¿ç”¨ `ReefRadius` å¸¸é‡è€Œéç¡¬ç·¨ç¢¼æ•¸å€¼ï¼Ÿ

#### ç•¶å‰ä½¿ç”¨æƒ…æ³

**âœ… å¤§éƒ¨åˆ†é é¢ä½¿ç”¨ `ReefRadius` å¸¸é‡**

---

### 4. æ–‡å­—æ¨£å¼ä½¿ç”¨æª¢æŸ¥

#### æª¢æŸ¥é …ç›®
- [ ] æ˜¯å¦ä½¿ç”¨ `ReefTextStyles` è€Œéç›´æ¥å®šç¾© `TextStyle`ï¼Ÿ

#### ç•¶å‰ä½¿ç”¨æƒ…æ³

**âœ… å¤§éƒ¨åˆ†é é¢ä½¿ç”¨ `ReefTextStyles`**

---

### 5. èƒŒæ™¯ä½¿ç”¨æª¢æŸ¥

#### æª¢æŸ¥é …ç›®
- [ ] æ˜¯å¦æ‰€æœ‰ä¸»è¦é é¢ä½¿ç”¨ `ReefMainBackground`ï¼Ÿ
- [ ] æ˜¯å¦æ­£ç¢ºä½¿ç”¨å…¶ä»–èƒŒæ™¯ Widgetï¼Ÿ

#### ç•¶å‰ä½¿ç”¨æƒ…æ³

**âœ… HomePage**: ä½¿ç”¨ `ReefMainBackground` âœ…

**âŒ å…¶ä»–é é¢**:
- Bluetooth é é¢: ä½¿ç”¨ `backgroundColor: ?` âŒ
- Device é é¢: ä½¿ç”¨ `backgroundColor: ?` âŒ
- LED ä¸»é : ä½¿ç”¨ `backgroundColor: ReefColors.primaryStrong` âŒ
- Dosing ä¸»é : ä½¿ç”¨ `backgroundColor: ?` âŒ
- å…¶ä»–é é¢: å¤§å¤šä½¿ç”¨ `backgroundColor: ReefColors.surfaceMuted` âŒ

**å•é¡Œ**: åªæœ‰ HomePage ä½¿ç”¨ `ReefMainBackground`ï¼Œå…¶ä»–é é¢éƒ½æ‡‰è©²æ”¹ç”¨ `ReefMainBackground`

---

## ä¸‰ã€ç™¼ç¾çš„å•é¡Œç¸½çµ

### âœ… è³‡æºåˆ†é…æ­£ç¢º

1. **é¡è‰²è³‡æº** - å®Œå…¨æ­£ç¢º âœ…
2. **åŸºæœ¬é–“è·** - å·²å°ç…§ âœ…
3. **åœ“è§’è³‡æº** - å·²å°ç…§ âœ…
4. **æ–‡å­—æ¨£å¼** - å·²è½‰æ› âœ…
5. **èƒŒæ™¯ Widget** - å·²è½‰æ› âœ…
6. **åœ–æ¨™è³‡æº** - å·²è½‰æ› âœ…

### âš ï¸ éœ€è¦ç¢ºèªçš„å•é¡Œ

1. **é–“è·å°ç…§å®Œæ•´æ€§**
   - éœ€è¦ç¢ºèª `dp_10`, `dp_26`, `dp_30`, `dp_44` ç­‰æ˜¯å¦éƒ½æœ‰å°æ‡‰å¸¸é‡
   - æˆ–è€…ç¢ºèªé€™äº›å€¼æ˜¯å¦éœ€è¦ç›´æ¥ä½¿ç”¨æ•¸å€¼

2. **èƒŒæ™¯ä½¿ç”¨ä¸çµ±ä¸€**
   - åªæœ‰ HomePage ä½¿ç”¨ `ReefMainBackground`
   - å…¶ä»–é é¢ä»ä½¿ç”¨ `backgroundColor`ï¼Œæ‡‰è©²æ”¹ç”¨ `ReefMainBackground`

### âŒ éœ€è¦ä¿®å¾©çš„å•é¡Œ

1. **èƒŒæ™¯ä½¿ç”¨ä¸çµ±ä¸€** - æ‰€æœ‰ä¸»è¦é é¢æ‡‰è©²ä½¿ç”¨ `ReefMainBackground` è€Œé `backgroundColor`
2. **éƒ¨åˆ†é é¢ä½¿ç”¨ `primaryStrong` ä½œç‚ºèƒŒæ™¯** - æ‡‰è©²æ”¹ç‚ºæ·ºè‰²æ¼¸è®ŠèƒŒæ™¯

---

## å››ã€å»ºè­°çš„ä¿®å¾©æ­¥é©Ÿ

### Step 1: ç¢ºèªé–“è·å°ç…§å®Œæ•´æ€§

1. æª¢æŸ¥ reef-b-app çš„ `dimens.xml` ä¸­æ‰€æœ‰å°ºå¯¸å€¼
2. ç¢ºèªå“ªäº›å€¼éœ€è¦æ·»åŠ åˆ° `ReefSpacing` æˆ– `ReefRadius`
3. æˆ–ç¢ºèªå“ªäº›å€¼å¯ä»¥ç›´æ¥ä½¿ç”¨æ•¸å€¼ï¼ˆå¦‚æœæ˜¯ç‰¹å®šç”¨é€”ï¼‰

### Step 2: çµ±ä¸€èƒŒæ™¯ä½¿ç”¨

1. å‰µå»ºçµ±ä¸€çš„èƒŒæ™¯ä½¿ç”¨è¦ç¯„ï¼š
   - ä¸»è¦é é¢ï¼ˆHome, Device, Bluetooth, LED ä¸»é , Dosing ä¸»é ï¼‰ä½¿ç”¨ `ReefMainBackground`
   - å°è©±æ¡†ä½¿ç”¨ `ReefDialogBackground`
   - å…¶ä»–ç‰¹æ®ŠèƒŒæ™¯æŒ‰éœ€ä½¿ç”¨

2. é€æ­¥ä¿®å¾©æ‰€æœ‰é é¢ï¼š
   - å°‡ `backgroundColor: ReefColors.primaryStrong` æ”¹ç‚º `ReefMainBackground`
   - å°‡ `backgroundColor: ReefColors.surfaceMuted` æ”¹ç‚º `ReefMainBackground`ï¼ˆå¦‚æœæ˜¯ä¸»è¦é é¢ï¼‰

### Step 3: é©—è­‰åŸºç¤çµ„ä»¶

1. æª¢æŸ¥ Cardã€Buttonã€TextField ç­‰åŸºç¤çµ„ä»¶
2. ç¢ºä¿å®ƒå€‘ä½¿ç”¨æ­£ç¢ºçš„é¡è‰²ã€é–“è·ã€åœ“è§’
3. ç¢ºä¿æ¨£å¼ä¸€è‡´

---

## äº”ã€çµè«–

### è³‡æºåˆ†é…ç‹€æ…‹

**âœ… å„ªç§€**: 
- é¡è‰²è³‡æºå®Œå…¨æ­£ç¢º
- æ–‡å­—æ¨£å¼å·²è½‰æ›
- èƒŒæ™¯ Widget å·²è½‰æ›
- åœ–æ¨™è³‡æºå·²è½‰æ›

**âš ï¸ è‰¯å¥½**: 
- åŸºæœ¬é–“è·å·²å°ç…§ï¼ˆéœ€è¦ç¢ºèªå®Œæ•´æ€§ï¼‰
- åœ“è§’è³‡æºå·²å°ç…§

### ä½¿ç”¨æƒ…æ³ç‹€æ…‹

**âœ… è‰¯å¥½**:
- å¤§éƒ¨åˆ†é é¢ä½¿ç”¨ `ReefSpacing`ã€`ReefRadius`ã€`ReefTextStyles`
- HomePage æ­£ç¢ºä½¿ç”¨ `ReefMainBackground`

**âŒ éœ€è¦æ”¹é€²**:
- å…¶ä»–é é¢å°šæœªä½¿ç”¨ `ReefMainBackground`
- èƒŒæ™¯ä½¿ç”¨ä¸çµ±ä¸€

### ä¸‹ä¸€æ­¥è¡Œå‹•

1. âœ… **è³‡æºåˆ†é…é©—è­‰å®Œæˆ** - è³‡æºå·²æ­£ç¢ºåˆ†é…
2. â­ï¸ **çµ±ä¸€èƒŒæ™¯ä½¿ç”¨** - æ‰€æœ‰ä¸»è¦é é¢æ‡‰ä½¿ç”¨ `ReefMainBackground`
3. â­ï¸ **ç¢ºèªé–“è·å°ç…§å®Œæ•´æ€§** - æª¢æŸ¥æ˜¯å¦éœ€è¦æ·»åŠ æ›´å¤šå¸¸é‡
4. â­ï¸ **é©—è­‰åŸºç¤çµ„ä»¶** - ç¢ºä¿åŸºç¤çµ„ä»¶æ­£ç¢ºä½¿ç”¨è³‡æº

---

## å…­ã€è³‡æºåˆ†é…é©—è­‰çµæœ

### âœ… çµè«–ï¼šè³‡æºå·²æ­£ç¢ºåˆ†é…åˆ° koralcore

æ‰€æœ‰é—œéµè³‡æºï¼ˆé¡è‰²ã€é–“è·ã€åœ“è§’ã€æ–‡å­—æ¨£å¼ã€èƒŒæ™¯ã€åœ–æ¨™ï¼‰éƒ½å·²æ­£ç¢ºè½‰æ›å’Œåˆ†é…ã€‚

### âš ï¸ ä¸»è¦å•é¡Œï¼šä½¿ç”¨ä¸çµ±ä¸€

è³‡æºåˆ†é…æ˜¯æ­£ç¢ºçš„ï¼Œä½†åœ¨å¯¦éš›ä½¿ç”¨ä¸­å­˜åœ¨ä¸ä¸€è‡´ï¼š
- **èƒŒæ™¯ä½¿ç”¨ä¸çµ±ä¸€**: åªæœ‰ HomePage ä½¿ç”¨ `ReefMainBackground`ï¼Œå…¶ä»–é é¢éœ€è¦çµ±ä¸€
- **é¡è‰²ä½¿ç”¨éœ€è¦æª¢æŸ¥**: éƒ¨åˆ†é é¢å¯èƒ½ä½¿ç”¨ä¸æ­£ç¢ºçš„èƒŒæ™¯é¡è‰²

### ğŸ¯ å»ºè­°

åœ¨é–‹å§‹ Phase 2ï¼ˆåŸºç¤çµ„ä»¶èª¿æ•´ï¼‰ä¹‹å‰ï¼š
1. âœ… ç¢ºèªè³‡æºåˆ†é…ï¼ˆå·²å®Œæˆï¼‰- **çµè«–ï¼šè³‡æºåˆ†é…æ­£ç¢º** âœ…
2. â­ï¸ çµ±ä¸€èƒŒæ™¯ä½¿ç”¨è¦ç¯„
3. â­ï¸ é–‹å§‹èª¿æ•´åŸºç¤çµ„ä»¶å’Œé é¢

